// jQuery tapclick | http://github.com/cabin/jquery-tapclick | Â©2013 Cabin
(function(e){var t,n,r,i,s,o;return t="tapclick",s=function(n){var s;return e(this).on("touchend."+t,r).on("touchmove."+t,i),s=n.originalEvent.touches[0],this.startX=s.screenX,this.startY=s.screenY},i=function(e){var t,n,r;r=e.originalEvent.touches[0],t=Math.abs(r.screenX-this.startX),n=Math.abs(r.screenY-this.startY);if(t>10||n>10)return o(this)},r=function(e){var r;o(this),r=e.type==="touchend",e.type=t,e.currentTarget=null,jQuery.event.dispatch.apply(this,arguments);if(r&&e.currentTarget)return e.stopPropagation(),n.preventGhostClick(this.startX,this.startY)},o=function(n){return e(n).off("touchend."+t+" touchmove."+t)},n={coordinates:[],preventGhostClick:function(e,t){return n.coordinates.push([e,t]),setTimeout(n.pop,2500)},pop:function(){return n.coordinates.shift()},onClick:function(e){var t,r,i,s,o,u,a,f,l;a=n.coordinates,l=[];for(o=0,u=a.length;o<u;o++)f=a[o],i=f[0],s=f[1],t=Math.abs(e.screenX-i),r=Math.abs(e.screenY-s),t<25&&r<25?(e.stopPropagation(),l.push(e.preventDefault())):l.push(void 0);return l}},document.addEventListener&&document.addEventListener("click",n.onClick,!0),jQuery.event.special[t]={setup:function(){return e(this).addClass(t).on("touchstart."+t,s).on("click."+t,r)},teardown:function(){return e(this).removeClass(t).off("."+t)}}})(jQuery);
